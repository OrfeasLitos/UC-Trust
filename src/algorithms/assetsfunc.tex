\Suppressnumber
\begin{lstlisting}[label=assetsfunc, style=numbers]
(*@$\mathcal{F}_{\mathrm{Assets}}$ \Reactivatenumber@*)
Initialisation:
  (*@$\forall Alice \in \mathcal{P},$@*)
    assets((*@$Alice$@*)) = (*@$\bot$@*)

Upon receiving (add, (*@$asset$@*)) from (*@$Alice$@*):
  assets((*@$Alice$@*)) = assets((*@$Alice$@*))(*@$\cup \left\{asset\right\}$@*)
  send (added, (*@$asset$@*)) to (*@$Alice$@*)

Upon receiving (remove, (*@$asset$@*)) from (*@$Alice$@*):
  If (*@$asset \in$@*) assets((*@$Alice$@*)):
    assets((*@$Alice$@*)) = assets((*@$Alice$@*))(*@$\setminus \left\{asset\right\}$@*)
    send (removed, (*@$asset$@*)) to (*@$Alice$@*)
  Else:
    send (unableToRemove, (*@$asset$@*)) to (*@$Alice$@*)

Upon receiving (howManyDoIhave, (*@$asset$@*)) from (*@$Alice$@*):
  send (youHave, assets((*@$Alice$@*)).count((*@$asset$@*))) to (*@$Alice$@*)

Upon receiving (transfer, (*@$asset$@*), (*@$Bob$@*)) from (*@$Alice$@*):
  If (*@$asset \in$@*) assets((*@$Alice$@*)):
    assets((*@$Alice$@*)) = assets((*@$Alice$@*))(*@$\setminus \left\{asset\right\}$@*)
    assets((*@$Alice$@*)) = assets((*@$Bob$@*))(*@$\cup \left\{asset\right\}$@*)
    send (transferred, (*@$asset$@*), (*@$Bob$@*)) to (*@$Alice$@*)
  Else:
    send (unableToTransfer, (*@$asset$@*), (*@$Bob$@*)) to (*@$Alice$@*)
\end{lstlisting}
