\Suppressnumber
\begin{lstlisting}[label=assetsfunc, style=numbers]
(*@$\mathcal{F}_{Assets}$ \Reactivatenumber@*)
Initialisation:
  (*@$\forall Alice \in \mathcal{P},$@*)
    assets((*@$Alice$@*)) = (*@$\bot$@*)

Upon receiving (add, (*@$asset$@*)) from (*@$Alice$@*):
  If (*@$asset \in$@*) assets((*@$Alice$@*)):
    send (youAlreadyHave, (*@$asset$@*)) to (*@$Alice$@*)
  Else:
    assets((*@$Alice$@*)) = assets((*@$Alice$@*))(*@$\cup \left\{asset\right\}$@*)
    send (added, (*@$asset$@*)) to (*@$Alice$@*)

Upon receiving (remove, (*@$asset$@*)) from (*@$Alice$@*):
  If (*@$asset \in$@*) assets((*@$Alice$@*)):
    assets((*@$Alice$@*)) = assets((*@$Alice$@*))(*@$\setminus \left\{asset\right\}$@*)
    send (removed, (*@$asset$@*)) to (*@$Alice$@*)
  Else:
    send (unableToRemove, (*@$asset$@*)) to (*@$Alice$@*)

Upon receiving (doIhave, (*@$asset$@*)) from (*@$Alice$@*):
  If (*@$asset \in$@*) assets((*@$Alice$@*)):
    send (youHave, (*@$asset$@*)) to (*@$Alice$@*)
  Else:
    send (youDoNotHave, (*@$asset$@*)) to (*@$Alice$@*)

Upon receiving (transfer, (*@$asset$@*), (*@$Bob$@*)) from (*@$Alice$@*):
  If (*@$asset \in$@*) assets((*@$Alice$@*)):
    assets((*@$Alice$@*)) = assets((*@$Alice$@*))(*@$\setminus \left\{asset\right\}$@*)
    assets((*@$Alice$@*)) = assets((*@$Bob$@*))(*@$\cup \left\{asset\right\}$@*)
    send (transferred, (*@$asset$@*), (*@$Bob$@*)) to (*@$Alice$@*)
  Else:
    send (unableToTransfer, (*@$asset$@*), (*@$Bob$@*)) to (*@$Alice$@*)
\end{lstlisting}
