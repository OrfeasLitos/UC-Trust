\Suppressnumber
\begin{lstlisting}[label=trustfunc, style=numbers]
(*@$\mathcal{F}_{\mathrm{Trust}}$ \Reactivatenumber@*)
Has oracle access to every player's (*@$Alice$@*) utility function (*@$U_{Alice}$@*)

Upon receiving (chooseBestSeller, (*@$d$@*), (*@$L$@*)) from (*@$Alice$@*):
  (*@$t$@*) = (*@$\mathcal{G}_{Clock}$@*)
  (*@$Bob$@*) = (*@$\argmax\limits_{Bob \in L}\left\{\right.$@*) (*@$U_{Alice}\left(t, state_{Alice}\left[1\right] - x, state_{Alice}\left[2\right] \cup s\right) :$@*)
  (*@$s \in d \wedge s \in$@*) assets((*@$Bob$@*)) (*@$\wedge$@*) (*@$Alice$@*) has (*@$x$@*) coins (*@$\wedge$@*)
  (*@$U_{Alice}\left(t, state_{Alice}\left[1\right] - x, state_{Alice}\left[2\right] \cup s\right) > U_{Alice}\left(state_{Alice}\right) \wedge$@*)
  (*@$U_{Bob}\left(t, state_{Bob}\left[1\right] + x, state_{Bob}\left[2\right] \setminus s\right) > U_{Bob}\left(t, state_{Bob}\right) \wedge$@*)
  (*@$U_{Bob}\left(t, state_{Bob}\left[1\right] + x, state_{Bob}\left[2\right]\right) < U_{Bob}\left(t, state_{Bob}\right) \left.\right\}$@*)
  send message (bestSeller, (*@$d$@*), (*@$L$@*), (*@$Bob$@*)) to (*@$Alice$@*)
\end{lstlisting}

Assumptions:
\begin{itemize}
  \item Trades are atomic. $\mathcal{F}_{\mathrm{Trust}}$ can deterministically decide whether
  $Bob$ will complete the trade.
  \item The internal workings of $\mathcal{F}_{\mathrm{Trust}}$ is common knowledge to the players.
  Their utility depends on it.
\end{itemize}
Note: It would be interesting to see how utilities (as algorithms) and
$\mathcal{F}_{\mathrm{Trust}}$ have a "fixed point".
