\Suppressnumber
\begin{lstlisting}[label=trustfunc, style=numbers]
(*@$\mathcal{F}_{Trust}$ \Reactivatenumber@*)
Has oracle access to the players' utility functions (*@$U$@*)

Upon receiving chooseBestSeller((*@$d$@*), (*@$L$@*)) from (*@$Alice$@*):
  choose (*@$Bob \in L$@*) such that:
    1) according to his utility function, will complete the trade and
    2) offers the minimum price and maximum quality of product (i.e. maximises (*@$Alice$@*)'s additional utility) amongst the players that satisfy (1)
  send message bestSeller((*@$d$@*), (*@$L$@*), (*@$Bob$@*)) to (*@$Alice$@*)
\end{lstlisting}

Assumptions:
\begin{itemize}
  \item Trades are atomic. $\mathcal{F}_{Trust}$ can deterministically decide whether
  $Bob$ will complete the trade.
  \item The internal workings of $\mathcal{F}_{Trust}$ is common knowledge to the players.
  Their utility depends on it.
\end{itemize}

