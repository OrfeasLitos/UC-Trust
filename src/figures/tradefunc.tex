
\begin{tikzpicture}[>=latex,line join=bevel,]
%%
\begin{scope}
  \definecolor{strokecol}{rgb}{0.0,0.0,0.0};
  \pgfsetstrokecolor{strokecol}
  \draw (333.07bp,11.5bp) node {\textbf{Fig. \figlabel{fig:tradefunc}:} Trade functionality and protocol};
\end{scope}
\begin{scope}
  \pgfsetstrokecolor{black}
  \definecolor{strokecol}{rgb}{1.0,1.0,1.0};
  \pgfsetstrokecolor{strokecol}
  \definecolor{fillcol}{rgb}{1.0,1.0,1.0};
  \pgfsetfillcolor{fillcol}
  \definecolor{strokecol}{rgb}{0.0,0.0,0.0};
  \pgfsetstrokecolor{strokecol}
  \draw (333.07bp,11.5bp) node {};
\end{scope}
\begin{scope}
  \pgfsetstrokecolor{black}
  \definecolor{strokecol}{rgb}{1.0,1.0,1.0};
  \pgfsetstrokecolor{strokecol}
  \definecolor{fillcol}{rgb}{1.0,1.0,1.0};
  \pgfsetfillcolor{fillcol}
  \definecolor{strokecol}{rgb}{0.0,0.0,0.0};
  \pgfsetstrokecolor{strokecol}
  \draw (333.07bp,11.5bp) node {};
\end{scope}
\begin{scope}
  \pgfsetstrokecolor{black}
  \definecolor{strokecol}{rgb}{1.0,1.0,1.0};
  \pgfsetstrokecolor{strokecol}
  \definecolor{fillcol}{rgb}{1.0,1.0,1.0};
  \pgfsetfillcolor{fillcol}
  \definecolor{strokecol}{rgb}{0.0,0.0,0.0};
  \pgfsetstrokecolor{strokecol}
  \draw (333.07bp,11.5bp) node {};
\end{scope}
\begin{scope}
  \pgfsetstrokecolor{black}
  \definecolor{strokecol}{rgb}{1.0,1.0,1.0};
  \pgfsetstrokecolor{strokecol}
  \definecolor{fillcol}{rgb}{1.0,1.0,1.0};
  \pgfsetfillcolor{fillcol}
  \definecolor{strokecol}{rgb}{0.0,0.0,0.0};
  \pgfsetstrokecolor{strokecol}
  \draw (333.07bp,11.5bp) node {};
\end{scope}
  \node (fassets) at (327.0bp,471.78bp) [draw,regular polygon, regular polygon sides=4] {$\mathcal{F}_{\mathrm{Assets}}$};
  \node (dum2) at (153.0bp,239.14bp) [draw,ellipse,dashed] {$P_n$};
  \node (fledger) at (554.0bp,471.78bp) [draw,regular polygon, regular polygon sides=4] {$\mathcal{F}_{\mathrm{Ledger}}$};
  \node (dum1) at (45.0bp,239.14bp) [draw,ellipse,dashed] {$P_1$};
  \node (env2) at (441.0bp,64.0bp) [draw,regular polygon, regular polygon sides=4] {$\mathcal{E}$};
  \node (env1) at (99.0bp,64.0bp) [draw,regular polygon, regular polygon sides=4] {$\mathcal{E}$};
  \node (ftrade) at (95.0bp,471.78bp) [draw,regular polygon, regular polygon sides=4] {$\mathcal{F}_{\mathrm{Trade}}$};
  \node (dots1) at (99.0bp,239.14bp) [draw=white,ellipse] {$\dots$};
  \node (prot1) at (314.0bp,239.14bp) [draw,ellipse] {$\Pi_{\mathrm{Trade, 1}}$};
  \node (prot2) at (568.0bp,239.14bp) [draw,ellipse] {$\Pi_{\mathrm{Trade}, n}$};
  \node (dots2) at (441.0bp,239.14bp) [draw=white,ellipse] {$\dots$};
  \draw [<->] (env2) ..controls (485.15bp,125.19bp) and (494.7bp,138.22bp)  .. (prot2);
  \draw [<->] (dots2) ..controls (469.28bp,239.14bp) and (469.33bp,239.14bp)  .. (prot2);
  \draw [<->] (env1) ..controls (118.45bp,123.54bp) and (121.34bp,132.53bp)  .. (124.0bp,141.0bp) .. controls (130.74bp,162.5bp) and (137.99bp,186.78bp)  .. (dum2);
  \draw [<->] (env1) ..controls (79.548bp,123.54bp) and (76.658bp,132.53bp)  .. (74.0bp,141.0bp) .. controls (67.258bp,162.5bp) and (60.008bp,186.78bp)  .. (dum1);
  \draw [<->] (prot2) ..controls (561.18bp,352.53bp) and (560.86bp,357.78bp)  .. (fledger);
  \draw [<->] (prot1) ..controls (415.05bp,239.14bp) and (415.11bp,239.14bp)  .. (dots2);
  \draw [<->] (dum2) ..controls (138.47bp,297.91bp) and (129.65bp,332.99bp)  .. (ftrade);
  \draw [<->] (prot1) ..controls (320.37bp,353.08bp) and (320.69bp,358.74bp)  .. (fassets);
  \draw [<->] (dum1) ..controls (57.599bp,298.26bp) and (65.172bp,333.19bp)  .. (ftrade);
  \draw [<->] (prot2) ..controls (471.35bp,332.64bp) and (451.17bp,351.95bp)  .. (fassets);
  \draw [<->] (prot1) ..controls (409.57bp,331.99bp) and (428.84bp,350.5bp)  .. (fledger);
  \draw [<->] (env2) ..controls (396.85bp,125.19bp) and (387.3bp,138.22bp)  .. (prot1);
%
\end{tikzpicture}
