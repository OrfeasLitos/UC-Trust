
\begin{tikzpicture}[>=latex,line join=bevel,]
%%
\begin{scope}
  \definecolor{strokecol}{rgb}{0.0,0.0,0.0};
  \pgfsetstrokecolor{strokecol}
  \draw (243.9bp,11.5bp) node {\textbf{Fig. \figlabel{fig:tradefunc}:} Trade functionality and protocol};
\end{scope}
\begin{scope}
  \pgfsetstrokecolor{black}
  \definecolor{strokecol}{rgb}{1.0,1.0,1.0};
  \pgfsetstrokecolor{strokecol}
  \definecolor{fillcol}{rgb}{1.0,1.0,1.0};
  \pgfsetfillcolor{fillcol}
  \definecolor{strokecol}{rgb}{0.0,0.0,0.0};
  \pgfsetstrokecolor{strokecol}
  \draw (243.9bp,11.5bp) node {};
\end{scope}
\begin{scope}
  \pgfsetstrokecolor{black}
  \definecolor{strokecol}{rgb}{1.0,1.0,1.0};
  \pgfsetstrokecolor{strokecol}
  \definecolor{fillcol}{rgb}{1.0,1.0,1.0};
  \pgfsetfillcolor{fillcol}
  \definecolor{strokecol}{rgb}{0.0,0.0,0.0};
  \pgfsetstrokecolor{strokecol}
  \draw (243.9bp,11.5bp) node {};
\end{scope}
\begin{scope}
  \pgfsetstrokecolor{black}
  \definecolor{strokecol}{rgb}{1.0,1.0,1.0};
  \pgfsetstrokecolor{strokecol}
  \definecolor{fillcol}{rgb}{1.0,1.0,1.0};
  \pgfsetfillcolor{fillcol}
  \definecolor{strokecol}{rgb}{0.0,0.0,0.0};
  \pgfsetstrokecolor{strokecol}
  \draw (243.9bp,11.5bp) node {};
\end{scope}
\begin{scope}
  \pgfsetstrokecolor{black}
  \definecolor{strokecol}{rgb}{1.0,1.0,1.0};
  \pgfsetstrokecolor{strokecol}
  \definecolor{fillcol}{rgb}{1.0,1.0,1.0};
  \pgfsetfillcolor{fillcol}
  \definecolor{strokecol}{rgb}{0.0,0.0,0.0};
  \pgfsetstrokecolor{strokecol}
  \draw (243.9bp,11.5bp) node {};
\end{scope}
  \node (fassets) at (255.7bp,369.19bp) [draw,regular polygon, regular polygon sides=4] {$\mathcal{F}_{Assets}$};
  \node (dum2) at (132.7bp,202.09bp) [draw,ellipse,dashed] {$P_n$};
  \node (fledger) at (416.7bp,369.19bp) [draw,regular polygon, regular polygon sides=4] {$\mathcal{F}_{Ledger}$};
  \node (dum1) at (24.698bp,202.09bp) [draw,ellipse,dashed] {$P_1$};
  \node (env2) at (336.7bp,64.0bp) [draw,regular polygon, regular polygon sides=4] {$\mathcal{E}$};
  \node (env1) at (78.698bp,64.0bp) [draw,regular polygon, regular polygon sides=4] {$\mathcal{E}$};
  \node (ftrade) at (75.698bp,369.19bp) [draw,regular polygon, regular polygon sides=4] {$\mathcal{F}_{Trade}$};
  \node (dots1) at (78.698bp,202.09bp) [draw=white,ellipse] {$\dots$};
  \node (prot1) at (246.7bp,202.09bp) [draw,ellipse] {$\Pi_{Trade, 1}$};
  \node (prot2) at (426.7bp,202.09bp) [draw,ellipse] {$\Pi_{Trade, n}$};
  \node (dots2) at (336.7bp,202.09bp) [draw=white,ellipse] {$\dots$};
  \draw [<->] (env2) ..controls (374.96bp,122.86bp) and (381.38bp,132.56bp)  .. (prot2);
  \draw [<->] (dots2) ..controls (365.06bp,202.09bp) and (365.13bp,202.09bp)  .. (prot2);
  \draw [<->] (env1) ..controls (105.6bp,132.79bp) and (113.56bp,152.85bp)  .. (dum2);
  \draw [<->] (env1) ..controls (51.8bp,132.79bp) and (43.839bp,152.85bp)  .. (dum1);
  \draw [<->] (prot2) ..controls (422.14bp,278.4bp) and (421.83bp,283.49bp)  .. (fledger);
  \draw [<->] (prot1) ..controls (310.69bp,202.09bp) and (310.76bp,202.09bp)  .. (dots2);
  \draw [<->] (dum2) ..controls (115.85bp,251.88bp) and (108.67bp,272.68bp)  .. (ftrade);
  \draw [<->] (prot1) ..controls (250.83bp,278.94bp) and (251.15bp,284.68bp)  .. (fassets);
  \draw [<->] (dum1) ..controls (39.826bp,252.07bp) and (46.17bp,272.6bp)  .. (ftrade);
  \draw [<->] (prot2) ..controls (362.0bp,265.56bp) and (346.68bp,280.35bp)  .. (fassets);
  \draw [<->] (prot1) ..controls (310.63bp,265.18bp) and (325.11bp,279.24bp)  .. (fledger);
  \draw [<->] (env2) ..controls (298.44bp,122.86bp) and (292.02bp,132.56bp)  .. (prot1);
%
\end{tikzpicture}
