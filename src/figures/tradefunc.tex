
\begin{tikzpicture}[>=latex,line join=bevel,]
%%
\begin{scope}
  \definecolor{strokecol}{rgb}{0.0,0.0,0.0};
  \pgfsetstrokecolor{strokecol}
  \draw (333.07bp,11.5bp) node {\textbf{Fig. \figlabel{fig:tradefunc}:} Trade functionality and protocol};
\end{scope}
\begin{scope}
  \pgfsetstrokecolor{black}
  \definecolor{strokecol}{rgb}{1.0,1.0,1.0};
  \pgfsetstrokecolor{strokecol}
  \definecolor{fillcol}{rgb}{1.0,1.0,1.0};
  \pgfsetfillcolor{fillcol}
  \definecolor{strokecol}{rgb}{0.0,0.0,0.0};
  \pgfsetstrokecolor{strokecol}
  \draw (333.07bp,11.5bp) node {};
\end{scope}
\begin{scope}
  \pgfsetstrokecolor{black}
  \definecolor{strokecol}{rgb}{1.0,1.0,1.0};
  \pgfsetstrokecolor{strokecol}
  \definecolor{fillcol}{rgb}{1.0,1.0,1.0};
  \pgfsetfillcolor{fillcol}
  \definecolor{strokecol}{rgb}{0.0,0.0,0.0};
  \pgfsetstrokecolor{strokecol}
  \draw (333.07bp,11.5bp) node {};
\end{scope}
\begin{scope}
  \pgfsetstrokecolor{black}
  \definecolor{strokecol}{rgb}{1.0,1.0,1.0};
  \pgfsetstrokecolor{strokecol}
  \definecolor{fillcol}{rgb}{1.0,1.0,1.0};
  \pgfsetfillcolor{fillcol}
  \definecolor{strokecol}{rgb}{0.0,0.0,0.0};
  \pgfsetstrokecolor{strokecol}
  \draw (333.07bp,11.5bp) node {};
\end{scope}
\begin{scope}
  \pgfsetstrokecolor{black}
  \definecolor{strokecol}{rgb}{1.0,1.0,1.0};
  \pgfsetstrokecolor{strokecol}
  \definecolor{fillcol}{rgb}{1.0,1.0,1.0};
  \pgfsetfillcolor{fillcol}
  \definecolor{strokecol}{rgb}{0.0,0.0,0.0};
  \pgfsetstrokecolor{strokecol}
  \draw (333.07bp,11.5bp) node {};
\end{scope}
  \node (fassets) at (327.0bp,471.78bp) [draw,regular polygon, regular polygon sides=4] {$\mathcal{F}_{\mathrm{Assets}}$};
  \node (dum2) at (153.0bp,239.14bp) [draw,ellipse,dashed] {$P_n$};
  \node (fledger) at (554.0bp,471.78bp) [draw,regular polygon, regular polygon sides=4] {$\mathcal{F}_{\mathrm{Ledger}}$};
  \node (dum1) at (45.0bp,239.14bp) [draw,ellipse,dashed] {$P_1$};
  \node (env2) at (441.0bp,64.0bp) [draw,regular polygon, regular polygon sides=4] {$\mathcal{E}$};
  \node (env1) at (99.0bp,64.0bp) [draw,regular polygon, regular polygon sides=4] {$\mathcal{E}$};
  \node (ftrade) at (95.0bp,471.78bp) [draw,regular polygon, regular polygon sides=4] {$\mathcal{F}_{\mathrm{Trade}}$};
  \node (dots1) at (99.0bp,239.14bp) [draw=white,ellipse] {$\dots$};
  \node (prot1) at (314.0bp,239.14bp) [draw,ellipse] {$\Pi_{\mathrm{Trade, 1}}$};
  \node (prot2) at (568.0bp,239.14bp) [draw,ellipse] {$\Pi_{\mathrm{Trade}, n}$};
  \node (dots2) at (441.0bp,239.14bp) [draw=white,ellipse] {$\dots$};
  \draw [<->] (env2) ..controls (485.37bp,125.19bp) and (494.84bp,138.25bp)  .. (prot2);
  \draw [<->] (dots2) ..controls (469.28bp,239.14bp) and (469.33bp,239.14bp)  .. (prot2);
  \draw [<->] (env1) ..controls (118.51bp,123.52bp) and (121.37bp,132.51bp)  .. (124.0bp,141.0bp) .. controls (130.64bp,162.43bp) and (137.79bp,186.61bp)  .. (dum2);
  \draw [<->] (env1) ..controls (79.487bp,123.52bp) and (76.631bp,132.51bp)  .. (74.0bp,141.0bp) .. controls (67.355bp,162.43bp) and (60.208bp,186.61bp)  .. (dum1);
  \draw [<->] (prot2) ..controls (561.18bp,352.51bp) and (560.86bp,357.8bp)  .. (fledger);
  \draw [<->] (prot1) ..controls (415.05bp,239.14bp) and (415.11bp,239.14bp)  .. (dots2);
  \draw [<->] (dum2) ..controls (138.38bp,297.79bp) and (129.62bp,332.92bp)  .. (ftrade);
  \draw [<->] (prot1) ..controls (320.37bp,353.21bp) and (320.69bp,358.86bp)  .. (fassets);
  \draw [<->] (dum1) ..controls (57.685bp,298.16bp) and (65.182bp,333.04bp)  .. (ftrade);
  \draw [<->] (prot2) ..controls (471.27bp,332.52bp) and (450.99bp,352.09bp)  .. (fassets);
  \draw [<->] (prot1) ..controls (409.88bp,332.09bp) and (429.12bp,350.73bp)  .. (fledger);
  \draw [<->] (env2) ..controls (396.63bp,125.19bp) and (387.16bp,138.25bp)  .. (prot1);
%
\end{tikzpicture}
